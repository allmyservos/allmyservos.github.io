<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fun with PWM: Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ams.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="allmyservos.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fun with PWM
   &#160;<span id="projectnumber">0.32</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p>AllMyServos is a robotics app for Raspberry Pi, written in Python, to help it interface with:</p>
<ul>
<li>Pi Camera</li>
<li>Adafruit PCA9685 16 Channel Servo Driver</li>
<li>Invensense MPU6050 Accelerometer and Gyro</li>
<li>Motor Drivers: L298N, TB6612FNG and BTS7960</li>
</ul>
<p>The app provides a user friendly interface for configuration, a command line version for running over SSH and now supports headless operation. To get started, make sure the directory which contains this file is copied to the SD card of your Raspberry Pi, open a terminal, change to this directory and run 'sudo python GUI.py'</p>
<p>For more information visit:</p>
<ul>
<li><a href="http://allmyservos.co.uk">http://allmyservos.co.uk</a></li>
<li><a href="https://www.youtube.com/user/allmyservos">https://www.youtube.com/user/allmyservos</a></li>
<li><a href="https://github.com/allmyservos/allmyservos">https://github.com/allmyservos/allmyservos</a></li>
</ul>
<h2><a class="anchor" id="supported_models"></a>
Supported Models and Operating Systems</h2>
<p>AllMyServos has been tested with:</p>
<ul>
<li>Raspberry Pi Model B+</li>
<li>Raspberry Pi 2</li>
<li>Raspberry Pi 3</li>
<li>Raspberry Pi Zero</li>
</ul>
<p>OS Versions:</p>
<ul>
<li>Raspbian Wheezy<ul>
<li>2015-05-05</li>
</ul>
</li>
<li>Raspbian Jessie<ul>
<li>2015-11-21</li>
<li>2016-05-10</li>
<li>2016-09-23</li>
<li>2016-11-25</li>
<li>2017-01-11</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="install_sec"></a>
Installation</h1>
<p>Open a terminal on a Raspberry Pi and run the following commands:</p>
<h2><a class="anchor" id="step1"></a>
Step 1: Download the app</h2>
<p><code> git clone <a href="https://github.com/allmyservos/allmyservos.git">https://github.com/allmyservos/allmyservos.git</a> </code></p>
<h2><a class="anchor" id="step2"></a>
Step 2: Change directory</h2>
<p><code> cd allmyservos </code></p>
<h2><a class="anchor" id="step3"></a>
Step 3: Start the app</h2>
<p><code> sudo python GUI.py </code></p>
<p>The first time the application runs, it performs some initial setup checks. Any problems can be resolved by clicking the accept button at the bottom of the page.</p>
<h1><a class="anchor" id="modules_sec"></a>
Modules</h1>
<h2><a class="anchor" id="camera"></a>
Camera</h2>
<p>The camera module provides a user interface for all of the available settings on the Pi camera. see: <a class="el" href="class_tk_camera_manager_1_1_tk_camera_manager.html">TkCameraManager.TkCameraManager</a></p>
<div class="image">
<img src="cam-manager.jpg" alt="Camera Manager"/>
</div>
<h2><a class="anchor" id="console"></a>
Console</h2>
<p>The console provides a copy of anything output to the terminal in the app. see: <a class="el" href="class_tk_console_1_1_tk_console.html">TkConsole.TkConsole</a></p>
<div class="image">
<img src="console.jpg" alt="Console"/>
</div>
<h2><a class="anchor" id="dependencies"></a>
Dependencies</h2>
<p>Where parts of the app require packages to be installed, the app provides a user interface to install them all with a single click. see: <a class="el" href="class_tk_dependency_manager_1_1_tk_dependency_manager.html">TkDependencyManager.TkDependencyManager</a></p>
<div class="image">
<img src="dependencies.jpg" alt="Dependencies"/>
</div>
<h2><a class="anchor" id="help"></a>
Help</h2>
<p>The help section provides information about using the app. see: <a class="el" href="class_tk_help_manager_1_1_tk_help_manager.html">TkHelpManager.TkHelpManager</a></p>
<div class="image">
<img src="help.jpg" alt="Help"/>
</div>
<h2><a class="anchor" id="imu"></a>
IMU</h2>
<p>An Inertial Measuring Unit is a combined gyroscope and accelerometer. The app provides a suite of tools for managing and testing a connected IMU.</p>
<p>see:</p>
<ul>
<li><a class="el" href="class_tk_i_m_u_manager_1_1_tk_i_m_u_manager.html">TkIMUManager.TkIMUManager</a></li>
<li><a class="el" href="class_tk_gravity_manager_1_1_tk_gravity_manager.html">TkGravityManager.TkGravityManager</a></li>
<li><a class="el" href="class_tk_ortho_manager_1_1_tk_ortho_manager.html">TkOrthoManager.TkOrthoManager</a></li>
</ul>
<div class="image">
<img src="imu-features.jpg" alt="IMU Features"/>
</div>
<h2><a class="anchor" id="joystick"></a>
Joystick</h2>
<p>The joystick module provides a service which registers USB or Bluetooth joysticks / gamepads as they are connected. Other objects can add a callback function which will be executed when a joystick action happens. The configure page displays all detected joysticks and their axis / buttons maps. see: <a class="el" href="class_tk_joystick_manager_1_1_tk_joystick_manager.html">TkJoystickManager.TkJoystickManager</a></p>
<div class="image">
<img src="joystick.jpg" alt="Joystick"/>
</div>
<h2><a class="anchor" id="keyboard"></a>
Keyboard</h2>
<p>The keyboard module provides a user interface for configuring keymaps. These are used to trigger motions or chains when keys are pressed. It also allows other modules to plugin and perform any action when a key is pressed. see: <a class="el" href="class_tk_keyboard_manager_1_1_tk_keyboard_manager.html">TkKeyboardManager.TkKeyboardManager</a></p>
<div class="image">
<img src="kb-mapping.jpg" alt="Keyboard"/>
</div>
<h2><a class="anchor" id="metrics"></a>
Metrics</h2>
<p>Parts of the application require measurements to be taken. Metrics can be used like variables but they can retain previous values in memory and archive them according to the time the value was set. see: <a class="el" href="class_tk_metric_manager_1_1_tk_metric_manager.html">TkMetricManager.TkMetricManager</a></p>
<div class="image">
<img src="snapshot.jpg" alt="Metric Snapshot"/>
</div>
<h2><a class="anchor" id="motions"></a>
Motions</h2>
<p>When the servo configuration is complete, motions can be created which orchestrate the angles of the servos over time. see: <a class="el" href="class_tk_motion_manager_1_1_tk_motion_manager.html">TkMotionManager.TkMotionManager</a></p>
<div class="image">
<img src="motions.jpg" alt="Motions"/>
</div>
<h2><a class="anchor" id="motors"></a>
DC Motors</h2>
<p>The DC motor module provides support for several motor driver boards. Each motor reserves a set of GPIO pins on the Raspberry Pi for use with a drive board. Motors have a drive state which controls the speed and direction of the motor by setting a value between -1 and 1. The DC motor module is also integrated with the Keyboard and Joystick module. see: <a class="el" href="class_tk_motor_manager_1_1_tk_motor_manager.html">TkMotorManager.TkMotorManager</a></p>
<div class="image">
<img src="dc-motor.jpg" alt="DC Motor"/>
</div>
<h2><a class="anchor" id="steppers"></a>
Stepper Motors</h2>
<p>Stepper motors can also be connected to the Raspberry Pi using Dual H Bridge motor driver boards. These boards allow 4 input wires (from the Pi GPIO) and 4 output wires from a stepper motor to be connected. Sending a HIGH signal from a GPIO pin will cause the motor driver to energize a coil in the stepper motor with a particulary polarity. This turns the stepper motor to align with that coil. AllMyServos allows stepper motors to be configured by providing the steps per revolution and maximum revolutions per minute (normally available on the stepper motor datasheet). As with DC motors, AllMyServos allows the speed and direction of the motor to be changed by setting the drive state (-1 to 1). When editing a stepper motor, this can be done using a slider. The angle of the stepper motor is tracked by AllMyServos allowing the motor to turn to a given angle.</p>
<p>see: <a class="el" href="class_tk_motor_manager_1_1_tk_motor_manager.html">TkMotorManager.TkMotorManager</a></p>
<div class="image">
<img src="stepper.jpg" alt="Stepper Motor"/>
</div>
<h2><a class="anchor" id="notifier"></a>
Notifier</h2>
<p>The notifier allows modules to push messages to the interface which will be displayed for at least 10 seconds before being removed. see: <a class="el" href="class_tk_notifier_1_1_tk_notifier.html">TkNotifier.TkNotifier</a></p>
<div class="image">
<img src="notifier.jpg" alt="Notifier"/>
</div>
<h2><a class="anchor" id="preflight"></a>
PreFlight</h2>
<p>Pre flight checks are performed before any modules are loaded to ensure that the essential configuration changes have been made to enable I2C which is required to work with servos. see: <a class="el" href="class_tk_pre_flight_manager_1_1_tk_pre_flight_manager.html">TkPreFlightManager.TkPreFlightManager</a></p>
<div class="image">
<img src="pre-flight.jpg" alt="Pre Flight"/>
</div>
<h2><a class="anchor" id="resources"></a>
Resources</h2>
<p>The resource manager provides a user interface for monitoring system resources. see: <a class="el" href="class_tk_resource_manager_1_1_tk_resource_manager.html">TkResourceManager.TkResourceManager</a></p>
<div class="image">
<img src="resource-manager.jpg" alt="Resource Manager"/>
</div>
<h2><a class="anchor" id="schedule"></a>
Schedule</h2>
<p>Threaded tasks can be run on their own schedule and managed using the provided user interface. see: <a class="el" href="class_tk_schedule_manager_1_1_tk_schedule_manager.html">TkScheduleManager.TkScheduleManager</a></p>
<div class="image">
<img src="scheduled-tasks.jpg" alt="Scheduled Tasks"/>
</div>
<h2><a class="anchor" id="servos"></a>
Servos</h2>
<p>Servos are a core feature of the application. These objects represent servos connected to the Adafruit PCA9685 servo driver. see: <a class="el" href="class_tk_servo_grid_1_1_tk_servo_grid.html">TkServoGrid.TkServoGrid</a></p>
<div class="image">
<img src="servo-grid.jpg" alt="Servo Grid"/>
</div>
<h2><a class="anchor" id="settings"></a>
Settings</h2>
<p>The Setting object can be referred to anywhere a script imports it. Settings are accessed statically using Setting.get() and Setting.set('setting_name',default), the class uses SQLite to check if a value exists, if not the default value is saved. Use the menu: 'Settings' -&gt; 'List Settings' to see any stored settings and modify their values. For example: 'motion_slow_factor' is an integer which controls how many times slower to play slow motions. Simply delete a setting to restore its default value. see: <a class="el" href="class_tk_setting_manager_1_1_tk_setting_manager.html">TkSettingManager.TkSettingManager</a></p>
<div class="image">
<img src="settings.jpg" alt="Settings"/>
</div>
<h2><a class="anchor" id="specification"></a>
Specification</h2>
<p>Specifications provide a way of keeping all of the information about a robot together. These can be packaged up in the application and shared as a single file. see: <a class="el" href="class_tk_specification_manager_1_1_tk_specification_manager.html">TkSpecificationManager.TkSpecificationManager</a></p>
<div class="image">
<img src="specification.jpg" alt="Specification"/>
</div>
<h2><a class="anchor" id="srpc"></a>
SRPC</h2>
<p>One method of communicating with All My Servos is using Remote Procedure Calls. The app provides a server with built in SSL support and authentication to securely accept requests from RPC clients. see: <a class="el" href="class_tk_r_p_c_manager_1_1_tk_r_p_c_manager.html">TkRPCManager.TkRPCManager</a></p>
<div class="image">
<img src="rpc-manage.jpg" alt="SRPC"/>
</div>
<h2><a class="anchor" id="system"></a>
System</h2>
<p>The system section of the app provides a user interface for checking information about the environment and managing the startup settings. see: <a class="el" href="class_tk_system_manager_1_1_tk_system_manager.html">TkSystemManager.TkSystemManager</a></p>
<div class="image">
<img src="startup-sync.jpg" alt="Startup"/>
</div>
<h2><a class="anchor" id="trayicon"></a>
TrayIcon</h2>
<p>When either the GUI or CLI is run, the app will attempt to add a status icon to the LXDE taskbar if it is available. see: <a class="el" href="class_tray_icon_1_1_tray_icon.html">TrayIcon.TrayIcon</a></p>
<div class="image">
<img src="tray-icon.jpg" alt="Tray Icon"/>
</div>
 </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.12 </li>
  </ul>
</div>
</body>
</html>
